<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html;">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">

<title>LocalSite - Map Layers</title>
<link type="text/css" rel="stylesheet" href="/localsite/css/base.css" id="/localsite/css/base.css" />
<script type="text/javascript" src="/localsite/js/d3.v5.min.js" id="/localsite/js/d3.v5.min.js"></script>
<script type="text/javascript" src="/localsite/js/jquery.min.js" id="/localsite/js/jquery.min.js"></script>
<script type="text/javascript" src="/localsite/js/showdown.min.js" id="/localsite/js/showdown.min.js"></script>
<script type="text/javascript" src="/localsite/js/localsite.js"></script>

<script>
  //param.startTitle = "Neighborhood.org"
  //param.titleArray = ["local","site"] // The header title will default to Neighborhood when no titleArray.
	param.footer = "footer.html"
</script>

<style>
.optionalText {
  display: none;
  position:absolute;
  bottom:-30px;
}
</style>

</head>

<body>

<!-- Swiper and Plyr -->

<!--
Coolness: Responds to keyboard arrows and swipes.

To DO: 
Make buttons visible when rolling over sides, expand click area to entire side.

Sample in a circle
http://localhost:8887/community/tools/

To do: can swiper-lazy be replaced with existing lazy?

Notes:
Width:100% currently has to be included on the a href tag to prevent margins if image width is exceeded.
Set the height:100% on div within swiper-slide
text-align:left; overflow:scroll; 
-->

<link rel="stylesheet" href="/localsite/css/swiper/swiper-bundle.min.css" />
<link rel='stylesheet' href='/localsite/css/swiper/plyr.css'>
<link rel='stylesheet' href='/localsite/css/swiper/swiper.css'>
<script src='/localsite/js/polyfill.min.js?features=es6,Array.prototype.includes,CustomEvent,Object.entries,Object.values,URL'></script>
<script src='/localsite/js/plyr.min.js'></script>

  <div class="swiper-container">

    <div class="swiper-wrapper">

      <!-- Slide 1 -->
      <div class="swiper-slide" data-hash="communities" style="positionX: relative;">
        <a href="https://model.earth/apps/" style="width:100%"><img class="swiper-lazy" data-src="/localsite/img/hero/sustainable-communities.jpg" style="opacity:0.9;width:100%;max-width:3000px"></a>
        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
        <div class="box" style="display:none">
          <!--div class="title">Title</div-->
          <!--
          <div class="subtitle" data-swiper-parallax="-200">Graphics project</div>
          -->
        </div>
      </div>

      <!-- Slide 2 -->
      <div class="swiper-slide" data-hash="web-challenge">
        <a href="https://model.earth/community/challenge/"><img class="swiper-lazy" data-src="/localsite/img/hero/web-challenge.png" style="opacity:0.9;width:100%;max-width:2000px"></a>
        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
        <div class="optionalText content contentpadding" style="position:absolute; bottom:-30px">
          Add Optional Text 2
        </div>
      </div>

      <!-- Slide 3 -->
      <div class="swiper-slide" data-hash="explore">
        <img class="swiper-lazy" data-src="/localsite/img/hero/future-teepee.png" style="opacity:0.9;width:100%;max-width:2000px;height:740px">
        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
        <div class="optionalText content contentpadding">
          Add Optional Text 3
        </div>
      </div>
      
      <!-- Slide 4 -->
      <div class="swiper-slide" data-hash="plant">
        <img class="swiper-lazy" data-src="/localsite/img/hero/plant.png" style="opacity:0.9;width:100%;max-width:2000px">
        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
        <div class="optionalText content contentpadding" style="displayX:none;position:absolute; bottom:-30px">
          Add Optional Text 4
        </div>
      </div>

      <!-- Slide 5 -->
      <div class="swiper-slide" data-hash="2to1-ratio">
        <img class="swiper-lazy" data-src="/localsite/img/hero/2to1-ratio.png" style="opacity:0.9;width:100%;max-width:2000px">
        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
        <div class="optionalText content contentpadding" style="displayX:none;position:absolute; bottom:-30px">
          Add Optional Text 5
        </div>
      </div>

      <!-- Slide 6 -->
      <div class="swiper-slide" data-hash="sun">
        <!-- Example of smaller: solar-rect-sm.png -->
        <a href="" style="width:100%"><img class="swiper-lazy" data-src="/localsite/img/hero/solar-rect.png" style="opacity:0.9;widthX:100%;max-width:2000px;"></a>
        <div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>
        <div class="optionalText content contentpadding" style="displayX:none;position:absolute; bottom:-30px">
          Add Optional Text 6
        </div>
      </div>

      


    </div>

  
    <!-- Swiper Arrows -->
      
    <!-- circle arrows -->
    <div class="swiper-button swiper-button-prev prev-buttonX swiper-button-circle">
      <div class="nav-circle"></div>
      <div class="circle-text">

        <svg aria-hidden="true" role="presentation" focusable="false" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="display: block; fill: none; height: 13px; width: 13px; stroke: currentcolor; stroke-width: 5.33333; overflow: visible;"><g fill="none"><path d="m20 28-11.29289322-11.2928932c-.39052429-.3905243-.39052429-1.0236893 0-1.4142136l11.29289322-11.2928932"></path></g></svg>

      </div>
    </div>

    <div class="swiper-button swiper-button-next prev-buttonX swiper-button-circle">
      <div class="nav-circle"></div>
      <div class="circle-text">
      
        <!--
         <svg aria-hidden="true" role="presentation" focusable="false" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="display: block;fill: none;height: 13px;width: 13px;stroke: currentcolor;stroke-width: 5.33333;overflow: visible;"><g fill="none"><path d="m12 4 11.2928932 11.2928932c.3905243.3905243.3905243 1.0236893 0 1.4142136l-11.2928932 11.2928932"></path></g></svg>
          -->

      </div>
    </div>

    <!-- white arrows -->
    <div class="swiper-button-prev">
      <!--<div class="swiper-button-white"></div>-->
    </div>
    <div class="swiper-button-next">
      <!--<div class="swiper-button-white"></div>-->
    </div>
    <!-- /Swiper Arrows-->


  </div>


  <!-- Swiper Pagination -->
  <div class="swiper-pagination" style="margin-top:15px;"></div>
  <!--
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  -->
  <script src="/localsite/js/swiper/swiper-bundle.min.js"></script>
  

  <!-- Initialize Swiper -->
  <script>
    var swiper = new Swiper('.swiper-container', {
      slidesPerView: 1,
      spaceBetween: 30,
      /* mousewheel: true, */ /* In addition to hold and swipe. Jumps to quick and bypasses elements below images. */
      /* Issue: the last slide is also preloaded. */
      slidesPerView: 'auto',
      lazy: {
        loadPrevNext: true,
      },
      /* preloadImages: false, No difference */
      loop: true,
      /* effect: 'fade', */
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      hashNavigation: {
        watchState: true,
      },
      keyboard: {
        enabled: true,
        onlyInViewport: false
      },

      direction: 'horizontal',
      /*
      freeMode: true,
      scrollbar: {
        el: '.swiper-scrollbar',
      },
      */
    });

    // Fast forward: https://codepen.io/sampotts/pen/jARJYp
    //player.play();
  </script>

<!-- /Swiper and Plyr -->


<div class="content contentpadding" style="padding-top: 0px">

  <div style="float:right">
    <!--
    <a href="https://github.com/localsite/planning/blob/main/schema.prisma">Real World 2.0 Data Structure</a> - Common tables for civic tech apps 
    -->
    <!--
    <a href="https://nextjs.org">NextJS</a>, <a href="https://www.prisma.io">Prisma</a> and <a href="https://blitzjs.com">BlitzJS</a><br><br>
    -->
  </div>

  <h1 style="padding-top: 0px">LocalSite - Map Layers</h1>

  Localsite uses <a href="https://swiperjs.com/">SwiperJS</a> with the MapBox <a href="https://docs.mapbox.com/mapbox-gl-js/style-spec/layers/">Layers JSON Format</a> to manage multiple map layers in our <a href="js/map.js">map.js styleObject</a>.  

  <section id="parameters">
    <div id="paramsDiv" style="clear:both"></div>
  </section>
  
	<div class="two pageColumns">
	    <div class="pageColumn">
	      <div class="pageColumnInside">
	          <div id="readmeDiv"></div>
	      </div>
	    </div>
	    <div class="pageColumn">
	      <div class="pageColumnInside">
	        <div id="featuresDiv"></div>
	      </div>
	    </div>
	</div>
  

  <h2 style="clear:both">Local Storage</h2>
  The following values reside in your browser's localStorage for persistance across site visits:<br><br>

  <div id="displayStorage"></div>
  <script>
  // View localStorage values
  for(var i=0, len=localStorage.length; i<len; i++) {
      var key = localStorage.key(i);
      var value = localStorage[key];
      if (value.indexOf("<svg") > 0) {
        $("#displayStorage").append("<b>" + key + ":</b> [svg]<br><br>");
      } else {
        $("#displayStorage").append("<b>" + key + ":</b> " + value + "<br><br>");
      }
  }
  </script>

</div>

<script>
    loadMarkdown("README.md", "readmeDiv", "_parent");
    loadMarkdown("start/features.md", "featuresDiv", "_parent");
    loadMarkdown("start/params.md", "paramsDiv", "_parent");
</script>

<div id="footer"></div>

</body>
</html>